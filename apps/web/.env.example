### App
APP_URL=http://localhost:3000

### Database (Postgres)
# IMPORTANT: this must be the raw URL (not a `psql ...` command)
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/DBNAME?sslmode=require

### Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# Comma-separated list of admin emails
ADMIN_EMAILS=admin@example.com

### Storage (Cloudflare R2 via S3 API)
# Code supports either STORAGE_* or R2_* variable names.
R2_ACCOUNT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
R2_BUCKET_NAME=getappshot
R2_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
R2_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# S3-compatible API endpoint (R2):
STORAGE_ENDPOINT=https://<R2_ACCOUNT_ID>.r2.cloudflarestorage.com
# Optional public base URL (if your bucket is public or you have a public domain):
R2_PUBLIC_URL=https://<public-domain-or-r2-dev-host>

STORAGE_BUCKET=getappshot
STORAGE_REGION=auto
STORAGE_ACCESS_KEY_ID=$R2_ACCESS_KEY_ID
STORAGE_SECRET_ACCESS_KEY=$R2_SECRET_ACCESS_KEY
STORAGE_PUBLIC_URL=$R2_PUBLIC_URL

### Scraping
# Google Play scraping mode:
# - html: fast, best-effort HTML parsing
# - playwright: slower, more robust, requires Playwright + browser availability
PLAY_SCRAPE_MODE=html
# If enabled, fall back to Playwright when HTML scraping fails
PLAY_SCRAPE_FALLBACK_PLAYWRIGHT=false

### Core engine
# Optional Redis cache. If unset, an in-memory cache is used (per-process).
REDIS_URL=redis://localhost:6379
# Cache TTL (seconds)
CACHE_TTL_SECONDS=86400
# Scrape rate limit (requests/minute)
SCRAPE_RPM=30
# Parallel downloads when building ZIP
DOWNLOAD_CONCURRENCY=5

### Queue mode (optional)
# - sync: /api/scrape processes immediately
# - queue: /api/scrape enqueues a job; run `npm run worker` to process jobs
SCRAPE_QUEUE_MODE=sync
SCRAPE_QUEUE_NAME=scrape-jobs
WORKER_CONCURRENCY=2

### Stripe
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Price IDs are safe to expose publicly; used by the dashboard upgrade buttons
NEXT_PUBLIC_STRIPE_PRICE_STARTER=price_xxxxxxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PRICE_PRO=price_xxxxxxxxxxxxxxxxx

# Billing module (recommended)
STRIPE_PRICE_PRO=price_xxxxxxxxxxxxxxxxx

# Optional usage-based pricing (Stripe metered billing)
STRIPE_USAGE_ENABLED=false

